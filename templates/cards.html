{% extends "base.html" %}

{% block title %}{{query}} | Cataloguer Search{% endblock %}

{% block content %}
    {% include "search-bar.html" %}
    {% let len = cards.len() %}
    <p class="text-stone-300 px-10 py-4"> {{len}} results for "{{query}}": </p>
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-5 px-10 ">
        {% for card_code in cards %}
            {% if card_code[1] == "nrdb" %}
            <a href="https://netrunnerdb.com/en/card/{{card_code[0]}}">
            <img class="rounded-lg" src="https://card-images.netrunnerdb.com/v2/large/{{card_code[0]}}.jpg", width=300>
            </a>
            {% else if card_code[1] == "nro" %}
            <a href="https://netrunnerdb.com/en/card/{{card_code[0]}}">
            <img class="rounded-lg" src="https://nro-public.s3.nl-ams.scw.cloud/nro/card-printings/v2/webp/english/card/{{card_code[0]}}.webp" width=300 onerror="this.onerror=null; this.src='https://nro-public.s3.nl-ams.scw.cloud/nro/card-printings/v2/webp/english/card/{{card_code[0]}}.1.webp'">
            </a>
            {% else %}
            <a href="https://netrunnerdb.com/en/card/{{card_code[0]}}">
            <img class="rounded-lg" src="assets/images/{{card_code[0]}}.png", width=300>
            </a>
            {% endif %}
        {% endfor %}
    </div>
    <script defer>
        //unhide the dropdown menu in the form
        document.getElementById('dropdowns').hidden = false;
    </script>
{% endblock %}
